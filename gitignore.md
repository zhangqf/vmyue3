# .gitignore

.gitignore是一个用于**Git版本控制**的配置文件，它的作用是告诉Git哪些文件或目录不应该被跟踪和提交到仓库。这样可以避免将一些不必要的文件纳入版本控制，从而保持仓库的整洁

## gitignore 文件的作用

- 忽略特定文件或目录，使其不会被Git跟踪：如编译生成的二进制文件、日志文件、缓存文件等。
- 保护敏感信息：避免将敏感信息（如配置文件、密钥）提交到仓库中
- 减少仓库体积、提高协作效率：避免将大型文件或无关文件提交到仓库，保持仓库到简洁

## .gitignore 文件的语法

.gitignore文件支持一下语法规则：

- #：注释，以 `#` 开头的行会被忽略
- ! ： 使用`!`表示不忽略某个文件或目录
- \* ：匹配任意字符（除了`/`)
- \** ：匹配任意目录
- / ：忽略logs目录及其所有内容

```.giginore
# 忽略所有.tmp 文件
*.tmp

# 忽略所有.log文件，但不会忽略important.log
*.log
!important.log

# 忽略所有的.log文件
*.log

# 忽略所有目录下的temp文件夹
**/temp/

# 在目录名后加上/，会忽略当前目录及其所有内容
logs/

# 忽略当前目录下的文件
temp.txt

```

/logs：

当你只想忽略根目录下的 logs 文件或目录时使用。

/logs/：

当你只想忽略根目录下的 logs 目录及其内容时使用。

logs/：

当你想忽略项目中所有 logs 目录及其内容时使用。

---

## git 撤销上一次的commit内容

### 保留修改，仅撤销commit记录

```bash
git reset --soft HEAD~1
```

- 效果：撤销commit，但保留文件的改动（修改仍在暂存区）
- 后续操作：可以重新修改文件并提交
- 使用场景：提交了错误的代码，但需要保留修改内容

### 彻底撤销commit并丢弃所有修改

```bash
git reset --hard HEAD~1
```

- 效果：撤销commit并丢弃所有修改（慎用，文件会恢复到上一次commit的状态）
- 使用场景：提交了错误的内容且不需要保留任何修改

### 如果已推送到远程仓库

如果commit已经被推送到远程仓库，直接使用`git reset`会破坏协作历史。推荐使用`git revert`

```bash
git revert HEAD
```

- 效果： 生成一个新的commit，内容与上一个commit相反（撤销更改）
- 优点： 保留历史记录，适合团队协作

### 关键参数说明

- `HEAD~1`：表示当前分支的上一个commit（`HEAD~2`则是上上一个，以此类推）
- `--soft`：保留修改，文件处于已暂存状态（`git status`显示为待提交）
- `--mixed`（默认）：撤销commit和暂存区，但保留工作区修改（需重新`git add`)
- `--hard`：彻底丢弃所有修改
